<% layout("layouts/boilerplate") %>

<!-- ================= REGISTER PAGE ================= -->
<div id="register-page" class="page-container active">
  <div class="auth-container">
    <div class="auth-card">
      <div class="auth-header">
        <div class="logo-circle">
          <i class="fas fa-user-plus"></i>
        </div>
        <h2>New Registration</h2>
        <p>Airport Authority of India</p>
      </div>

      <div class="card-content">
        <div class="official-notice">
          <i class="fas fa-exclamation-circle me-2"></i>
          <strong>Official Registration:</strong>
          Only authorized AAI employees, interns, and apprentices can register.
          Providing false information may lead to disciplinary action.
        </div>

          <form action="/auth/register" method="POST" onsubmit="handleRegister(event)">

          <div class="mb-3">
            <label class="form-label">Full Name <span class="required-asterisk">*</span></label>
            <div class="input-group">
              <span class="input-group-text"><i class="fas fa-user"></i></span>
              <input type="text" name="fullName" class="form-control" placeholder="Full Name" required>
            </div>
          </div>

          <div class="mb-3">
            <label class="form-label">Employee ID <span class="required-asterisk">*</span></label>
            <div class="input-group">
              <span class="input-group-text"><i class="fas fa-id-card"></i></span>
              <input type="text" name="employeeId" class="form-control" placeholder="EMP ID" required>
            </div>
          </div>

          <div class="mb-3">
            <label class="form-label">Official Email <span class="required-asterisk">*</span></label>
            <div class="input-group">
              <span class="input-group-text"><i class="fas fa-envelope"></i></span>
              <input type="email" name="email" class="form-control" placeholder="name@aai.aero" required>
            </div>
          </div>

          <div class="mb-3">
            <label class="form-label">Recovery Email (Optional)</label>
            <input type="email" name="recoveryEmail" class="form-control" placeholder="yourname@gmail.com">
          </div>

          <div class="mb-3">
            <label class="form-label">Mobile Number <span class="required-asterisk">*</span></label>
            <div class="input-group">
              <span class="input-group-text"><i class="fas fa-phone"></i></span>
              <input type="tel" name="mobile" class="form-control" placeholder="10-digit number" pattern="[0-9]{10}" required>
            </div>
          </div>

          <div class="mb-3">
            <label class="form-label">Position <span class="required-asterisk">*</span></label>
            <div class="input-group">
              <span class="input-group-text"><i class="fas fa-briefcase"></i></span>
              <select name="position" class="form-select" required>
                <option value="">Select...</option>
                <option value="Intern">Intern</option>
                <option value="Apprentice">Apprentice</option>
                <option value="Junior_Executive">Jr. Executive</option>
                <option value="Senior_Manager">Sr. Manager</option>
                <option value="Assistant_Manager">Asst. Manager</option>
                <option value="Joint_General_Manager">Joint GM</option>
                <option value="Direct_General_Manager">Direct GM</option>
              </select>
            </div>
          </div>

          <div class="mb-3">
  <label class="form-label">Department <span class="required-asterisk">*</span></label>
  <div class="input-group">
    <span class="input-group-text"><i class="fas fa-building"></i></span>
    <select name="department" class="form-select" required>
      <option value="">-- Select Category --</option>
      <option value="Operations">OPS (Operations)</option>
      <option value="IT">IT (Information Technology)</option>
      <option value="ATM">ATM (Air Traffic Management)</option>
      <option value="HR">HR (Human Resources)</option>
      <option value="Finance">Finance</option>
      <option value="Engg. Civil">Engg. Civil</option>
      <option value="Engg. Electrical">Engg. Electrical</option>
      <option value="Security">Security</option>
      <option value="Commercial">Commercial</option>
      <option value="Hindi">Hindi</option>
      <option value="Law">Law</option>
    </select>
  </div>
</div>


          <div class="mb-3">
            <label class="form-label">Password <span class="required-asterisk">*</span></label>
            <div class="input-group has-toggle">
              <span class="input-group-text"><i class="fas fa-lock"></i></span>
              <input type="password" name="password" class="form-control" id="regPassword" placeholder="Create Password" 
                pattern="^(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&()_+\[\]{};':&quot;\\|,.<>\/?]).{8,}$"
                title="Must be 8+ chars, 1 uppercase, 1 number, and 1 special character." required>
              <button type="button" class="password-toggle" onclick="togglePassword('regPassword', this)">
                <i class="fas fa-eye"></i>
              </button>
            </div>
            <small class="password-hint"><i class="fas fa-info-circle"></i> Min 8 chars, 1 uppercase, 1 number & 1 special character.</small>
          </div>

          <div class="mb-3">
            <label class="form-label">Confirm <span class="required-asterisk">*</span></label>
            <div class="input-group">
              <span class="input-group-text"><i class="fas fa-check-circle"></i></span>
              <input type="password" name="confirmPassword" class="form-control" id="regConfirmPassword" placeholder="Repeat Password" required>
            </div>
          </div>

          <div class="mb-3">
            <label class="form-label">
              Security Verification <span class="required-asterisk">*</span>
            </label>
            <div class="captcha-wrapper">
              <div class="captcha-visual">
                <img
                    src="/auth/captcha"
                    alt="captcha"
                    class="captcha-display"
                    onclick="this.src='/auth/captcha?'+Date.now()"
                  />

                <!-- <button
                  type="button"
                  class="refresh-btn"
                  onclick="generateRegCaptcha()"
                >
                  <i class="fas fa-sync-alt"></i>
                </button> -->
              </div>
              <div class="input-group">
                <span class="input-group-text">
                  <i class="fas fa-shield-alt"></i>
                </span>
                <input
                  type="text"
                  class="form-control"
                  id="regCaptchaInput"
                  placeholder="Enter code"
                  required
                >
              </div>
            </div>
          </div>

          <div class="mb-4 form-check d-flex align-items-center">
            <input
              type="checkbox"
              class="form-check-input"
              id="terms"
              required
            >
            <label
              class="form-check-label ms-2"
              for="terms"
              style="font-size: 0.9rem; font-weight: 500;"
            >
              
          <a href="javascript:void(0)" id="openTerms">Terms & Conditions</a>

            </label>
          </div>

          <button type="submit" class="btn btn-auth">
            Submit Registration
          </button>
        </form>

        <div class="auth-footer">
          <p>
            Already have an account?
            <a href="/login">Login Here</a>
          </p>
        </div>
      </div>
    </div>
  </div>
</div>



<!-- Terms & Conditions Modal -->
<div id="termsModal" class="modal">
  <div class="modal-content aai-modal">

    <!-- HEADER -->
    <div class="aai-modal-header">
      <h3>Terms & Conditions</h3>
      <span class="close-btn" id="closeTerms">&times;</span>
    </div>

    <!-- BODY -->
    <div class="aai-modal-body">
      <p>
        This website is designed, developed and maintained by Airports Authority of India (AAI).
        Though all efforts have been made to ensure the accuracy and currency of the content on this website,
        the same should not be construed as a statement of law or used for any legal purposes.
        In case of any ambiguity or doubts, users are advised to verify/check with AAI and/or other source(s),
        and to obtain appropriate professional advice.
        Under no circumstances will AAI be liable for any expense, for any direct or indirect loss or damage
        including consequential loss or damage whatsoever arising from use, or loss of use, of data in
        connection with the use of this website.
      </p>

      <p>
        These terms and conditions shall be governed by and interpreted in accordance with the Indian Laws.
        Any dispute arising under these terms and conditions shall be subject to the jurisdiction of the
        Indian courts at New Delhi.
      </p>

      <p>
        The information posted on this website could include hypertext links or pointers to information
        created and maintained by non-AAI/non-Government/private organizations.
        AAI is providing these links and pointers solely for your information and convenience.
        When you select a link to an outside website, you are leaving the AAI website and are subject to
        the privacy and security policies of the owners/sponsors of the outside website.
      </p>

      <p>
        AAI does not guarantee the availability of such linked pages at all times.
        AAI cannot authorize the use of copyrighted materials contained in linked websites.
        Users are advised to request such authorization from the owner of the linked website.
        AAI does not guarantee that linked websites comply with Government of India Web Guidelines.
      </p>
    </div>

  </div>
</div>
